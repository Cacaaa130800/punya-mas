<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Mood Tracker Mas ğŸ’™</title>

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <link rel="stylesheet" href="styles.css" />
  <style>
    /* minimal core styles kept inline so user doesn't need extra files */
    :root{--bg:#eaf3ff;--text:#1b2b3c;--card:#fff;--accent:#6fa8dc}
    .dark{--bg:#0f1621;--text:#f1f6ff;--card:#1d2b40;--accent:#4a90e2}
    *{box-sizing:border-box}
    body{font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial;background:var(--bg);color:var(--text);margin:0;padding:18px;display:flex;flex-direction:column;align-items:center;transition:background .25s,color .25s,filter .25s}
    h1{margin:6px 0 10px}
    .controls{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:8px}
    .btn{padding:8px 12px;border-radius:10px;border:none;cursor:pointer;background:var(--accent);color:#fff}
    .secondary{background:transparent;color:var(--text);border:1px solid rgba(0,0,0,0.08)}
    .mood-container{display:flex;gap:12px;margin:18px 0;justify-content:center;flex-wrap:wrap}
    .mood{font-size:38px;cursor:pointer;transition:transform .12s}
    .mood:hover{transform:scale(1.14)}
    .card{background:var(--card);padding:14px;width:92%;max-width:760px;border-radius:12px;box-shadow:0 6px 18px rgba(16,24,40,0.06);margin-top:14px}
    textarea{width:100%;height:78px;border-radius:10px;padding:10px;border:1px solid #ccc;background:transparent;color:var(--text);resize:vertical}
    #reaction{margin-top:12px;font-size:18px;text-align:center;min-height:36px}
    #entries div,#notes div{padding:8px 0;border-bottom:1px dashed rgba(0,0,0,0.06);display:flex;justify-content:space-between;align-items:center}
    #sticker{position:fixed;right:12px;bottom:12px;width:110px;opacity:0;transform:translateY(18px);transition:transform .4s,opacity .3s;z-index:999}
    #sticker.show{opacity:1;transform:translateY(0)}
    .loveHeart{position:fixed;font-size:26px;animation:floatUp 2.4s ease-out;pointer-events:none;z-index:9999}
    @keyframes floatUp{0%{transform:translateY(0);opacity:1}100%{transform:translateY(-160px);opacity:0}}
    .bubble{position:fixed;right:16px;bottom:16px;padding:10px 14px;background:#ffb7e6;color:#000;border-radius:12px;box-shadow:0 4px 10px rgba(0,0,0,0.12);z-index:99999;opacity:1;transition:1s}
    .voiceBubble{position:fixed;left:16px;top:16px;background:#fff6b8;padding:10px 14px;border-radius:12px;box-shadow:0 6px 18px rgba(0,0,0,0.12);z-index:99999;opacity:1;transition:1s}
    .loveBadge{margin:10px;font-size:16px;font-weight:600;text-align:center}
    #secretModal{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.6);backdrop-filter:blur(3px);align-items:center;justify-content:center;z-index:2000}
    #secretModal .box{background:var(--card);color:var(--text);padding:18px;border-radius:14px;width:88%;max-width:420px;text-align:center}
    @media(max-width:420px){.mood{font-size:34px}#sticker{width:86px}}
  </style>
</head>
<body>

  <!-- Gate -->
  <div id="gate" style="position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:var(--bg);z-index:3000;flex-direction:column;gap:12px;padding:20px">
    <h2>ğŸ’™ Siapa kamu? ğŸ’™</h2>
    <input id="gateInput" placeholder="ketik: mas" style="padding:10px;border-radius:10px;border:1px solid #bbb;max-width:260px" />
    <div style="display:flex;gap:8px;margin-top:8px">
      <button class="btn" id="gateEnterBtn">Masuk âœ</button>
      <button class="btn secondary" id="gateSurprise">Aku temen mas (surprise)</button>
    </div>
    <div id="gateMsg" style="color:#e74c3c;margin-top:6px"></div>
  </div>

  <h1>Mood Tracker Mas ğŸ’™</h1>

  <div class="controls">
    <button id="themeBtn" class="btn">ğŸŒ™ Mode</button>
    <button id="musicBtn" class="btn">â–¶ Backsound</button>
    <button id="secretBtn" class="btn secondary">ğŸ’Œ Surat Rahasia</button>
    <button id="downloadBtn" class="btn secondary">â¬‡ï¸ Download</button>
  </div>

  <p> Klik mood mas hari ini â€” caca bakal tau perasaanmu dan kasih respon manis:</p>

  <div class="mood-container">
    <span class="mood" data-mood="ğŸ˜„ Senang">ğŸ˜„</span>
    <span class="mood" data-mood="ğŸ™‚ Biasa aja">ğŸ™‚</span>
    <span class="mood" data-mood="ğŸ˜¢ Sedih">ğŸ˜¢</span>
    <span class="mood" data-mood="ğŸ˜¡ Kesel">ğŸ˜¡</span>
    <span class="mood" data-mood="ğŸ¥° Sayang cacaaa">ğŸ¥°</span>
  </div>

  <div id="reaction"></div>

  <div class="card">
    <h3>Riwayat Mood</h3>
    <div id="entries" style="margin-top:10px"></div>
  </div>

  <div class="card">
    <h3>Mood Bulan Ini</h3>
    <p id="avgMood">Menghitungâ€¦</p>
    <canvas id="moodChart" height="120"></canvas>
  </div>

  <div class="card">
    <h3>Catatan dari mas:</h3>
    <textarea id="noteInput" placeholder="Mas mau nulis apa ke cacaaa?"></textarea>
    <div style="display:flex;gap:8px;margin-top:8px">
      <button id="saveNote" class="btn">Simpan Catatan</button>
      <button id="clearNotes" class="btn secondary">Bersihkan Semua</button>
      <button id="gachaBtn" class="btn secondary">ğŸ Gacha</button>
    </div>
    <div id="notes" style="margin-top:12px"></div>
  </div>

  <div class="card" style="cursor:pointer;text-align:center" id="secretPreview">
    <h3>ğŸ’™ Halaman Rahasia</h3>
    <small>Klik tombol Surat Rahasia untuk buka</small>
  </div>

  <img id="sticker" src="https://i.imgur.com/cy7Q5pA.png" alt="sticker">

  <div id="secretModal">
    <div class="box"><h2>Pesan Rahasia Buat Mas ğŸ’Œ</h2><p>Mas itu rumah ternyaman cacaaa... ğŸ©µ<br>makasih udah ada di hidup cacaaa yaaa...</p><div style="margin-top:12px"><button id="closeSecret" class="btn">Tutup</button></div></div>
  </div>

  <audio id="bgm" loop preload="auto"><source src="music.mp3" type="audio/mpeg"></audio>

  <button id="hugButton" class="btn" style="position:fixed;left:10px;bottom:10px;background:#ff8ac8;z-index:9999">ğŸ¤— Kirim peluk ke cacaaa</button>

  <div id="sparkleContainer" aria-hidden="true"></div>

  <!-- main script (all features) -->
  <script src="script.js"></script>
</body>
</html>
